
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Mudra SDK</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen-41358172.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-bccf8c07.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-c5541673.js"></script>
  </head>

  <body class="index" data-languages="[&quot;java&quot;,&quot;cpp&quot;,&quot;csharp&quot;,&quot;fsharp&quot;,&quot;swift&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-c5be0c22.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="java">Java</a>
              <a href="#" data-language-name="cpp">C++</a>
              <a href="#" data-language-name="csharp">C#</a>
              <a href="#" data-language-name="fsharp">Unity</a>
              <a href="#" data-language-name="swift">Swift</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting Started">Getting Started</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#welcome" class="toc-h2 toc-link" data-title="Welcome">Welcome</a>
                  </li>
                  <li>
                    <a href="#device-modes" class="toc-h2 toc-link" data-title="Device Modes">Device Modes</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#api-functions" class="toc-h1 toc-link" data-title="API functions">API functions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#access-the-api" class="toc-h2 toc-link" data-title="Access the API">Access the API</a>
                  </li>
                  <li>
                    <a href="#initialization-and-connection" class="toc-h2 toc-link" data-title="Initialization and Connection">Initialization and Connection</a>
                  </li>
                  <li>
                    <a href="#fingertip-pressure" class="toc-h2 toc-link" data-title="Fingertip Pressure">Fingertip Pressure</a>
                  </li>
                  <li>
                    <a href="#gesture-calibration" class="toc-h2 toc-link" data-title="Gesture Calibration">Gesture Calibration</a>
                  </li>
                  <li>
                    <a href="#calibration-finished" class="toc-h2 toc-link" data-title="Calibration finished">Calibration finished</a>
                  </li>
                  <li>
                    <a href="#gesture-recognition" class="toc-h2 toc-link" data-title="Gesture Recognition">Gesture Recognition</a>
                  </li>
                  <li>
                    <a href="#air-mouse" class="toc-h2 toc-link" data-title="Air Mouse">Air Mouse</a>
                  </li>
                  <li>
                    <a href="#orientation" class="toc-h2 toc-link" data-title="Orientation">Orientation</a>
                  </li>
                  <li>
                    <a href="#raw-data" class="toc-h2 toc-link" data-title="Raw Data">Raw Data</a>
                  </li>
                  <li>
                    <a href="#device-status" class="toc-h2 toc-link" data-title="Device Status">Device Status</a>
                  </li>
                  <li>
                    <a href="#battery-level" class="toc-h2 toc-link" data-title="Battery Level">Battery Level</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#troubleshooting" class="toc-h1 toc-link" data-title="Troubleshooting">Troubleshooting</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://www.getmudra.com/'>Mudra Inspire</a></li>
            <li><a href='http://wearabledevices.co.il/'>Wearable Devices</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='getting-started'>Getting Started</h1><pre class="highlight java tab-java"><code><span class="c1">//Please scroll below for code examples</span>
</code></pre><pre class="highlight cpp tab-cpp"><code><span class="c1">//Please scroll below for code examples
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Please scroll below for code examples</span>
</code></pre><pre class="highlight fsharp tab-fsharp"><code><span class="c1">//Please scroll below for code examples
</span></code></pre><pre class="highlight swift tab-swift"><code><span class="c1">//Please scroll below for code examples</span>
</code></pre><h2 id='welcome'>Welcome</h2>
<p>Welcome to the Mudra SDK! Use this documentation to create your own unique experiences based on the <strong>Mudra Inspire &trade;</strong> device and Mudra API. This page is where you can get all the information you need to develop your unique experience.</p>

<p>Our API includes language bindings for <em>Java (Android)</em>, <em>C# (Windows, Unity)</em>, <em>c++ (Windows)</em> and <em>Swift (iOS)</em>. In order to use Mudra in your application, all you need is to register a callback. First, follow the methods below and use auto-connect to instantiate Mudra. Use the methods that begin with <em>set</em> to register the callback you need. Afterwards, create the callback function in your code as detailed below. </p>
<h2 id='device-modes'>Device Modes</h2>
<table><thead>
<tr>
<th>Mode</th>
<th>Description</th>
<th>LED Indication</th>
</tr>
</thead><tbody>
<tr>
<td>Pairing</td>
<td>Flash green continuously</td>
<td><img src="images/LED-behaviour_flashing-green_1-b3111425.png" alt="alt text" /></td>
</tr>
<tr>
<td>Connected</td>
<td>Flash green for 1 second</td>
<td><img src="images/LED-behaviour_green_on-6730ecb4.png" alt="alt text" /></td>
</tr>
<tr>
<td>Low Battery</td>
<td>Quick burst flashing red</td>
<td><img src="images/LED-behaviour_flashing-Red_1-a4f75394.png" alt="alt text" /></td>
</tr>
<tr>
<td>Charging</td>
<td>Flash blue continuously</td>
<td><img src="images/LED-behaviour_blue_on-aeca29ac.png" alt="alt text" /></td>
</tr>
</tbody></table>
<h3 id='android-ios'>Android\iOS</h3>
<p>Bluetooth should be turned on, if it is off then the Mudra Inspire application will prompt the user to turn it on.</p>
<h3 id='windows'>Windows</h3>
<p>Insert the included bluetooth receiver into the USB slot. See instructions below for installation and usage.</p>

<aside class="success">
Remember — Your Mudra device should always be connected. Check your host device to verify.
</aside>
<h1 id='api-functions'>API functions</h1><h2 id='access-the-api'>Access the API</h2><h3 id='android'>Android</h3>
<ul>
<li>To access the API you must first generate an access token<br></li>
<li>Navigate to <a href='https://jitpack.io/'>Jitpack website</a> and sign in using your GitHub account and credentials<br></li>
<li>Authorize Jitpack in order to connect to Github<br></li>
<li>Tap your username on the top left corner of the screen</li>
<li>Copy the access token shown on the first line and add it to your project <strong>gradle.properties</strong> file:<br></li>
<li>Add the repository to your project build.gradle file</li>
</ul>

<p>See <a href='https://github.com/wearable-devices/MudraAndroidExample'>this example</a> for running the SDK on Android.  </p>
<pre class="highlight java tab-java"><code><span class="c1">// gradle.properties</span>
<span class="n">org</span><span class="o">.</span><span class="na">gradle</span><span class="o">.</span><span class="na">jvmargs</span><span class="o">=-</span><span class="n">Xmx2048m</span>
<span class="n">authToken</span><span class="o">=&lt;</span><span class="n">Your</span> <span class="n">Jitpack</span> <span class="n">Token</span><span class="o">&gt;</span>

<span class="c1">// Project build.gradle</span>
<span class="n">allprojects</span> <span class="o">{</span>
    <span class="n">repositories</span> <span class="o">{</span>
        <span class="n">maven</span> <span class="o">{</span>
                <span class="n">url</span> <span class="err">'</span><span class="nl">https:</span><span class="c1">//jitpack.io'</span>
                <span class="n">credentials</span> <span class="o">{</span> <span class="n">username</span> <span class="n">authToken</span> <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// Module build.gradle</span>
<span class="n">android</span> <span class="o">{</span>
  <span class="n">defaultConfig</span> <span class="o">{</span>
 <span class="n">minSdkVersion</span> <span class="mi">23</span>
  <span class="o">}</span>

<span class="c1">// Java 8 support</span>
  <span class="n">compileOptions</span> <span class="o">{</span>
    <span class="n">sourceCompatibility</span> <span class="n">JavaVersion</span><span class="o">.</span><span class="na">VERSION_1_8</span>
    <span class="n">targetCompatibility</span> <span class="n">JavaVersion</span><span class="o">.</span><span class="na">VERSION_1_8</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// App build.gradle file:</span>
<span class="n">implementation</span> <span class="err">'</span><span class="n">com</span><span class="o">.</span><span class="na">github</span><span class="o">.</span><span class="na">wearable</span><span class="o">-</span><span class="nl">devices:MudraAndroidSDK:</span><span class="n">v1</span><span class="o">.</span><span class="mf">5.2</span><span class="err">'</span>
<span class="n">configurations</span> <span class="o">{</span> <span class="n">all</span><span class="o">*.</span><span class="na">exclude</span> <span class="nl">group:</span> <span class="err">'</span><span class="n">com</span><span class="o">.</span><span class="na">google</span><span class="o">.</span><span class="na">code</span><span class="o">.</span><span class="na">gson</span><span class="err">'</span> <span class="o">}</span>

<span class="c1">// Bluetooth support:</span>
<span class="n">implementation</span> <span class="err">'</span><span class="n">no</span><span class="o">.</span><span class="na">nordicsemi</span><span class="o">.</span><span class="na">android</span><span class="o">:</span><span class="nl">ble:</span><span class="mf">2.3</span><span class="o">.</span><span class="mi">0</span><span class="err">'</span>
<span class="n">implementation</span> <span class="err">'</span><span class="n">no</span><span class="o">.</span><span class="na">nordicsemi</span><span class="o">.</span><span class="na">android</span><span class="o">.</span><span class="na">support</span><span class="o">.</span><span class="na">v18</span><span class="o">:</span><span class="nl">scanner:</span><span class="mf">1.5</span><span class="o">.</span><span class="mi">0</span><span class="err">'</span>
<span class="n">implementation</span> <span class="err">'</span><span class="n">io</span><span class="o">.</span><span class="na">reactivex</span><span class="o">.</span><span class="na">rxjava2</span><span class="o">:</span><span class="nl">rxandroid:</span><span class="mf">2.1</span><span class="o">.</span><span class="mi">1</span><span class="err">'</span>

<span class="c1">// Android manifest file:</span>
<span class="o">&lt;</span><span class="n">uses</span><span class="o">-</span><span class="n">permission</span> <span class="nl">android:</span><span class="n">name</span><span class="o">=</span><span class="s">"android.permission.INTERNET"</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">uses</span><span class="o">-</span><span class="n">permission</span> <span class="nl">android:</span><span class="n">name</span><span class="o">=</span><span class="s">"android.permission.BLUETOOTH"</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">uses</span><span class="o">-</span><span class="n">permission</span> <span class="nl">android:</span><span class="n">name</span><span class="o">=</span><span class="s">"android.permission.BLUETOOTH_ADMIN"</span> <span class="o">/&gt;</span>
</code></pre><h3 id='ios'>iOS</h3>
<ul>
<li>Open a terminal </li>
<li>Navigate to your project file folder (contains the .xcodeproj file IDs)</li>
<li>Run &quot;pod init&quot;</li>
<li>Open the generated podfile:

<ul>
<li>Uncomment use_frameworks!</li>
<li>In order to utilize our latest pod run: &quot;pod &#39;Mudra&#39;, :git =&gt; &#39;https://github.com/LiavAdi/MudraPod.git&#39;&quot;</li>
<li>In order to utilize a specific version run: &quot;pod &#39;Mudra&#39;, :git =&gt; &#39;https://github.com/LiavAdi/MudraPod.git&#39;, :tag =&gt; &#39;2.0.2&#39;&quot;</li>
<li>Run: &quot;pod install&quot;</li>
</ul></li>
<li>Open xcworkspace</li>
</ul>
<h3 id='windows-2'>Windows</h3><h4 id='installation'>Installation</h4>
<ul>
<li>To access the API run MudraSetup.msi (please contact <a href="mailto:support@getmudra.com">support@getmudra.com</a> for access)

<ul>
<li>Choose installation path</li>
</ul></li>
<li>Edit Environment variables

<ul>
<li>Add new environment variable named “Mudra” with value as the installation path</li>
<li>Add the installation path to the “Path” System variable</li>
<li>Restart your PC for the paths to take effect</li>
</ul></li>
</ul>
<h4 id='c-usage'>C++ Usage</h4>
<ul>
<li><p>Project properties</p>

<ul>
<li>Under C/C++ / General / Additional Include Directories add $(Mudra)\Include\</li>
<li>Under Linker / General / Additional Library Directories add $(Mudra)\Lib\</li>
<li>Under Linker / Input add MudraSDK.lib</li>
<li> _WINDOWS define should be included in the c\c++ preprocessor properties</li>
</ul></li>
<li><p>Set your calibration</p>

<ul>
<li>Follow the onboarding instructions in the Android Mudra Inspire application</li>
<li>Copy the calibration file from ANDROID_STORAGE_ROOT\Users(left,right) path into your project (note this file is user and hand dependent)</li>
<li>Note-Use mudra.SetCalibration method, future updates will feature an online method with no file needed</li>
</ul></li>
</ul>
<h3 id='unity'>Unity</h3>
<p>When developing for Unity over Windows, please see installation instructions for Windows above. Following installation, see the file <em>MudraUnityPlugin.unitypackage</em> in the installation directory. Simply drag and drop this package into your Unity project’s assets folder.
Go to the Hierarchy pane in your mudra editor, press create and select a Mudra manager. A new MudraManager Object will be created.</p>

<p>There are two ways to use the Mudra plugin:</p>

<p>(1) Using C# Unity scripts (requires coding). See Unity tab on the right for explanation. You can find the full example  in the assets folder in the file named <em>MudraUnityScriptExample</em>.</p>

<p>(2) Using GUI on the MudraManager Unity object menu (no coding required). Using the MudraManager GUI, it is possible to enable\disable each of the features. For each feature, it is also possible to add callbacks. </p>

<p><strong>IMPORTANT:</strong> Write the path of your calibration file in the GUI. Default file path is: &quot;C:\Program Files\Wearable Devices\Mudra\Calibration.txt&quot;. In the Unity &#39;Poject Settings&#39;, set &#39;Write Permission&#39; to &#39;External(SDCard)&#39; instead of the default &#39;Internal&#39; (in order to read the calibration txt file). </p>

<p>*Please make sure you are using the latest version of Unity and that the dongle is plugged in to your PC.</p>
<pre class="highlight cpp tab-cpp"><code><span class="c1">// Header files
</span><span class="cp">#include "MudraEnvironment.h"
#include "MudraDevice.h"
</span></code></pre><h2 id='initialization-and-connection'>Initialization and Connection</h2><h3 id='android-2'>Android</h3>
<p>The connection process has 2 steps: 
<ol>
<li> Scanning for the device we would like to connect. </li> 
<li> Connection with the device and registration of the desired callbacks. </li>
</ol></p>

<p>The scan function receives a callback that triggers when a new device is found and receives a list of the mudraDevices found.</p>

<p>To start the scan:
<ol>
<li> Request the needed permmissions: Mudra.getInstance().requestAccessPermissions(this). </li>
<li> Start scanning: Mudra.getInstance().scan(callback)*callback should implement the OnDeviceDiscovered interface. </li>
<li> The callback method receives the discovered mudraDevices. Note that this list is filtered to match only mudra devices.</li>
</ol></p>

<p>*Don’t forget to stop the scan using: Mudra.getInstance().stopScan()</p>

<p>To connect to a device:
<ol>
<li> Scan for to the desired device.</li>
<li> Use device.connectDevice(context);</li>
</ol></p>

<p>To retrieve the previously connected MudraDevices use: Mudra.getInstance().getBondedDevices().Assuming the device is paired manually (for example - via the Android Bluetooth settings), there is no need for initial connection code. Initialization is exposed via the getBondedDevices function.
Please notice that the callbacks doesn’t have a reference to the view itself, so it can try to use a destroyed view fields. You can use disableAllCallbacks() before exiting a fragment/activity.</p>

<p><strong>Important:</strong> Please insert your authentication token in your app <em>gradle.properties</em> file in order to use our sdk. See our github example (see <a href='https://github.com/wearable-devices/MudraAndroidReference'>here</a>).</p>
<h3 id='windows-3'>Windows</h3>
<p>Please call the Scan() function (note the indication in the console window) and press the button on you Mudra device. Once a Mudra device is discovered, the OnDeviceDiscovered() callback will be called. It is possible to check the name of the new discovered device and filter it if it is not your device. Please note that you need to declare on which hand the device is worn, see SetHand().</p>
<h3 id='ios-2'>iOS</h3>
<p>The iOS SDK supports developing both in Objective-C and Swift. The iOS API supports multiple Mudra devices.</p>

<ul>
<li>Import Mudra package.</li>
<li>Implement the MudraDelegate protocol described under the Swift tab.</li>
<li>Please observe the following instuctions:

<ul>
<li> The Mudra and Bluetooth environment will be initialized the first time by &quot;using Mudra&quot;. Once the Bluetooth is ready the &quot;OnReadyForScan&quot; callback is called. You may run BLE scanning from this function or any other function, please make sure that the BLE is ready, see Swift examples.</li>
<li>BLE scanning is executed by &quot;Mudra.shared.scan()&quot; (please make sure the Mudra device is advertising).</li>
<li>For every Mudra device that is discovered, the callback &quot;onMudraDeviceDiscovered&quot; is called with a new created device.</li>
<li>The new created device will attempt to connect automatically. Once it is connected the &quot;onMudraDeviceConnected&quot; callback is called. </li>
<li>Place all your callbacks within this method. Note that all the callbacks are called on a different BLE thread, so the GUI needs to be updated asynchronously (see code example in the Swift tab).</li>
</ul></li>
</ul>
<pre class="highlight swift tab-swift"><code>
<span class="c1">// MudraDelegate SDK Code to be implemented</span>
<span class="kd">import</span> <span class="kt">Foundation</span>

<span class="kd">@objc</span> <span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">MudraDelegate</span> <span class="p">{</span>

    <span class="kd">@objc</span> <span class="kd">optional</span> <span class="kd">func</span> <span class="nf">onReadyForScan</span><span class="p">()</span>

    <span class="kd">@objc</span> <span class="kd">optional</span> <span class="kd">func</span> <span class="nf">onMudraDeviceDiscovered</span><span class="p">(</span><span class="n">_</span> <span class="nv">device</span><span class="p">:</span> <span class="kt">MudraDevice</span><span class="p">)</span>

    <span class="kd">@objc</span> <span class="kd">optional</span> <span class="kd">func</span> <span class="nf">onMudraPeripheralDiscovered</span><span class="p">(</span><span class="n">_</span> <span class="nv">device</span><span class="p">:</span> <span class="kt">CBPeripheral</span><span class="p">)</span>

    <span class="kd">@objc</span> <span class="kd">optional</span> <span class="kd">func</span> <span class="nf">onMudraDeviceConnected</span><span class="p">(</span><span class="n">_</span> <span class="nv">device</span><span class="p">:</span> <span class="kt">MudraDevice</span><span class="p">)</span>

    <span class="kd">@objc</span> <span class="kd">optional</span> <span class="kd">func</span> <span class="nf">onMudraDeviceDisconnected</span><span class="p">(</span><span class="n">_</span> <span class="nv">device</span><span class="p">:</span> <span class="kt">MudraDevice</span><span class="p">)</span>

    <span class="kd">@objc</span> <span class="kd">optional</span> <span class="kd">func</span> <span class="nf">onBatteryLevelChanged</span><span class="p">(</span><span class="n">_</span> <span class="nv">device</span><span class="p">:</span> <span class="kt">MudraDevice</span><span class="p">)</span>

    <span class="kd">@objc</span> <span class="kd">optional</span> <span class="kd">func</span> <span class="nf">onScanFinished</span><span class="p">()</span>
<span class="p">}</span>


<span class="c1">// User Code</span>
<span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">Mudra</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">,</span> <span class="kt">MudraDelegate</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>

        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
        <span class="kt">Mudra</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>

    <span class="p">}</span>

    <span class="c1">// A callback which is called once Mudra finishes initalizing</span>
    <span class="c1">// bluetooth and is ready for scan</span>
    <span class="kd">func</span> <span class="nf">onReadyForScan</span><span class="p">()</span> <span class="p">{</span>
        <span class="kt">Mudra</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">scan</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="c1">// Instead you can also run it but check before that Mudra is ready</span>
    <span class="kd">func</span> <span class="nf">someFunction</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="kt">Mudra</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">isReadyForScan</span> <span class="p">{</span>
                   <span class="kt">Mudra</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">scan</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onScanFinished</span><span class="p">()</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onMudraDeviceDiscovered</span><span class="p">(</span><span class="n">_</span> <span class="nv">device</span><span class="p">:</span> <span class="kt">MudraDevice</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Device </span><span class="se">\(</span><span class="kt">String</span><span class="p">(</span><span class="nv">describing</span><span class="p">:</span> <span class="n">device</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="se">)</span><span class="s"> discovered"</span><span class="p">)</span>

        <span class="c1">// You may save this device for later use</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onMudraDeviceConnected</span><span class="p">(</span><span class="n">_</span> <span class="nv">device</span><span class="p">:</span> <span class="kt">MudraDevice</span><span class="p">)</span> <span class="p">{</span>

    <span class="c1">// Add your callbacks here</span>

        <span class="c1">// Note - Callbacks are called on a different ble thread, </span>
        <span class="c1">// in order to update the GUI see below</span>

        <span class="kt">DispatchQueue</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">async</span> <span class="p">{</span>
        <span class="c1">// Update the GUI here</span>
        <span class="p">}</span>

    <span class="p">}</span>

    <span class="c1">// In the AppDelegate.swift</span>
    <span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">didFinishLaunchingWithOptions</span> <span class="nv">launchOptions</span><span class="p">:</span> <span class="p">[</span><span class="kt">UIApplication</span><span class="o">.</span><span class="kt">LaunchOptionsKey</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]?)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>

        <span class="c1">// Set your licenses (sent by Wearable Devices for expanded features)</span>
        <span class="kt">Mudra</span><span class="o">.</span><span class="nf">setLicense</span><span class="p">(</span><span class="kt">Feature</span><span class="o">.</span><span class="kt">RawData</span><span class="p">,</span> <span class="s">"--------"</span><span class="p">)</span> 
        <span class="kt">Mudra</span><span class="o">.</span><span class="nf">setLicense</span><span class="p">(</span><span class="kt">Feature</span><span class="o">.</span><span class="kt">DoubleTap</span><span class="p">,</span> <span class="s">"--------"</span><span class="p">)</span>

        <span class="c1">// Set Logging</span>
        <span class="kt">Mudra</span><span class="o">.</span><span class="nf">setLoggingSeverity</span><span class="p">(</span><span class="o">.</span><span class="kt">Debug</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">true</span>
    <span class="p">}</span>

</code></pre><h3 id='logging'>Logging</h3>
<p>The logger has 4 different types of logging severity options: Debug, Info, Warning and Error. You can set the logging severity using the Mudra.setCoreLoggingSeverity().</p>
<pre class="highlight java tab-java"><code><span class="n">Mudra</span> <span class="n">mudra</span> <span class="o">=</span> <span class="n">Mudra</span><span class="o">.</span><span class="na">getBondedDevices</span><span class="o">();</span>
</code></pre><pre class="highlight cpp tab-cpp"><code><span class="k">using</span> <span class="k">namespace</span> <span class="n">Mudra</span><span class="o">::</span><span class="n">SDK</span><span class="o">::</span><span class="n">Windows</span><span class="p">;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">Mudra</span><span class="o">::</span><span class="n">Computation</span><span class="p">;</span>

<span class="n">MudraEnvironment</span> <span class="n">mudra</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">OnDeviceDiscovered</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">MudraDevice</span><span class="o">&gt;</span> <span class="n">device</span><span class="p">)</span>
<span class="p">{</span>   
    <span class="k">if</span> <span class="p">(</span><span class="n">device</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">()</span> <span class="o">!=</span> <span class="s">"MY_DEVICE_NAME"</span><span class="p">)</span>
                <span class="k">return</span><span class="p">;</span>

    <span class="c1">// Insert all your device's callbacks here. 
</span>
    <span class="c1">// You can connect your device on discovery like presented here, or save your device and connect it later. 
</span>    <span class="n">device</span><span class="o">-&gt;</span><span class="n">SetHand</span><span class="p">(</span><span class="n">HandType</span><span class="o">::</span><span class="n">Left</span><span class="p">);</span>
    <span class="n">mudra</span><span class="p">.</span><span class="n">Connect</span><span class="p">(</span><span class="n">device</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">OnLoggingMessageCallback</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">msg</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Do something with msg
</span><span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Logging
</span>    <span class="n">mudra</span><span class="p">.</span><span class="n">SetLoggingSeverity</span><span class="p">(</span><span class="n">Logger</span><span class="o">::</span><span class="n">Severity</span><span class="o">::</span><span class="n">Debug</span><span class="p">);</span>
    <span class="n">mudra</span><span class="p">.</span><span class="n">SetOnLoggingMessageCallback</span><span class="p">(</span><span class="n">OnLoggingMessageCallback</span><span class="p">);</span>

    <span class="c1">// Connection
</span>    <span class="n">mudra</span><span class="p">.</span><span class="n">Scan</span><span class="p">(</span><span class="n">OnDeviceDiscovered</span><span class="p">);</span>

    <span class="c1">// Calibration - if you do not use this file a default classifier\regressor will be used (it is highly recommended to use your own calbration file)
</span>    <span class="n">mudra</span><span class="p">.</span><span class="n">SetCalibration</span><span class="p">(</span><span class="s">"&lt;YOUR_PROJECT_PATH&gt;</span><span class="se">\\</span><span class="s">Calibration.txt"</span><span class="p">);</span>

    <span class="c1">// Do something here (set infinite loop here if you would like to only listen to callbacks).
</span>    <span class="c1">// while(1) {...};
</span><span class="p">}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">Mudra.SDK.Windows.DotNetFramework</span><span class="p">;</span>

<span class="k">static</span> <span class="k">void</span> <span class="nf">OnMudraDeviceDiscovered</span><span class="p">(</span><span class="n">MudraDevice</span> <span class="n">device</span><span class="p">)</span>
<span class="p">{</span>   
    <span class="k">if</span> <span class="p">(</span><span class="n">device</span><span class="p">.</span><span class="nf">Name</span><span class="p">()</span> <span class="p">!=</span> <span class="s">"MY_DEVICE_NAME"</span><span class="p">)</span>
                <span class="k">return</span><span class="p">;</span>

    <span class="c1">// Insert all your device's callbacks here. </span>

    <span class="c1">// You can connect your device on discovery like presented here, or save your device and connect it later. </span>
    <span class="n">device</span><span class="p">.</span><span class="nf">SetHand</span><span class="p">(</span><span class="n">HandType</span><span class="p">.</span><span class="n">Left</span><span class="p">);</span>
    <span class="n">MudraEnvironment</span><span class="p">.</span><span class="nf">Connect</span><span class="p">(</span><span class="n">device</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">void</span> <span class="nf">OnLoggingMessageCallback</span><span class="p">(</span><span class="kt">string</span> <span class="p">&amp;</span><span class="n">msg</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Do something with msg</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">void</span> <span class="nf">main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Logging</span>
    <span class="n">MudraEnvironment</span><span class="p">.</span><span class="nf">SetLoggingSeverity</span><span class="p">(</span><span class="n">Logger</span><span class="p">::</span><span class="n">Severity</span><span class="p">::</span><span class="n">Debug</span><span class="p">);</span>
    <span class="n">MudraEnvironment</span><span class="p">.</span><span class="nf">SetOnLoggingMessageCallback</span><span class="p">(</span><span class="n">OnLoggingMessageCallback</span><span class="p">);</span>

    <span class="c1">// Connection</span>
    <span class="n">MudraEnvironment</span><span class="p">.</span><span class="nf">Scan</span><span class="p">(</span><span class="n">OnMudraDeviceDiscovered</span><span class="p">);</span>
    <span class="n">MudraEnvironment</span><span class="p">.</span><span class="nf">SetCalibration</span><span class="p">(</span><span class="n">HandType</span><span class="p">.</span><span class="n">Left</span><span class="p">,</span> <span class="s">"&lt;YOUR_PROJECT_PATH&gt;\\Calibration.txt"</span><span class="p">);</span>

    <span class="c1">// Do something here (set infinite loop here if you woould like to only listen to callbacks).</span>

    <span class="c1">// Close connection</span>
    <span class="n">MudraEnvironment</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>
</code></pre><pre class="highlight fsharp tab-fsharp"><code><span class="err">﻿</span><span class="n">using</span> <span class="nc">UnityEngine</span><span class="p">;</span>
<span class="n">using</span> <span class="nn">Mudra</span><span class="p">.</span><span class="nc">Unity</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">TestMudraUnityPlugin</span> <span class="p">:</span> <span class="nc">MonoBehaviour</span>
<span class="p">{</span>   
    <span class="k">void</span> <span class="nc">Start</span><span class="bp">()</span>
    <span class="p">{</span>

    <span class="p">}</span>
<span class="p">}</span>
</code></pre><h2 id='fingertip-pressure'>Fingertip Pressure</h2>
<p>Functionality for estimating the amount of fingertip pressure. Returned values range between 0 and 1 and callbacks arrive at a rate of approximately 60fps. </p>
<pre class="highlight java tab-java"><code><span class="n">OnFingertipPressureReady</span> <span class="n">onFingertipPressureReady</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OnFingertipPressureReady</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="kt">float</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>      
        <span class="c1">// Do something with v (this value is between 0 and 1)</span>
    <span class="o">}</span>
<span class="o">};</span>
<span class="n">mudraDevice</span><span class="o">.</span><span class="na">setOnFingertipPressureReady</span><span class="o">(</span><span class="n">onFingertipPressureReady</span><span class="o">);</span> <span class="c1">//Enable</span>
<span class="n">mudraDevice</span><span class="o">.</span><span class="na">setOnFingertipPressureReady</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span> <span class="c1">//Disable</span>
</code></pre><pre class="highlight cpp tab-cpp"><code><span class="kt">void</span> <span class="nf">OnProportionalReady</span><span class="p">(</span><span class="kt">float</span> <span class="n">proportional</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">Proportionalfound = "</span> <span class="o">&lt;&lt;</span> <span class="n">proportional</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">OnDeviceDiscovered</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">MudraDevice</span><span class="o">&gt;</span> <span class="n">device</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">device</span><span class="o">-&gt;</span><span class="n">SetOnProportionalReady</span><span class="p">(</span><span class="n">OnProportionalReady</span><span class="p">);</span>
<span class="p">}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="k">static</span> <span class="k">void</span> <span class="nf">OnProportionalReady</span><span class="p">(</span><span class="kt">float</span> <span class="n">proportional</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="s">"\nProportionalfound = {0}"</span><span class="p">,</span> <span class="n">proportional</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">void</span> <span class="nf">OnDeviceDiscovered</span><span class="p">(</span><span class="n">MudraDevice</span> <span class="n">device</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">device</span><span class="p">.</span><span class="nf">SetOnProportionalReady</span><span class="p">(</span><span class="n">OnProportionalReady</span><span class="p">);</span>
<span class="p">}</span>
</code></pre><pre class="highlight fsharp tab-fsharp"><code><span class="k">private</span> <span class="k">void</span> <span class="nc">UpdateFingerTipPressure</span><span class="bp">()</span>
<span class="p">{</span>
    <span class="kt">float</span><span class="p">?</span> <span class="n">fingerTipPressure</span> <span class="p">=</span> <span class="nn">Plugin</span><span class="p">.</span><span class="nn">Instance</span><span class="p">.</span><span class="nc">GetLastFingerTipPressure</span><span class="bp">()</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">fingerTipPressure</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">print</span><span class="o">($</span><span class="s2">"FingerTipPressure {fingerTipPressure}"</span><span class="o">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">void</span> <span class="nc">Update</span><span class="bp">()</span>
<span class="p">{</span>
    <span class="nc">UpdateFingerTipPressure</span><span class="bp">()</span><span class="p">;</span>
    <span class="c1">//...
</span><span class="p">}</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="n">device</span><span class="o">.</span><span class="n">setOnProportionalReady</span> <span class="p">{(</span><span class="n">proportional</span><span class="p">)</span> <span class="k">in</span> <span class="nf">print</span><span class="p">(</span> <span class="s">"OnProportionalReady </span><span class="se">\(</span><span class="n">proportional</span><span class="se">)</span><span class="s">"</span><span class="p">)</span> <span class="p">}</span>
</code></pre><h2 id='gesture-calibration'>Gesture Calibration</h2>
<p>The calibration process was designed to calibrate the MudraDevice for a specific user:
<ol>
<li>    Start the calibration: mudraDevice.calibrateGesture(gestureType) </li>
<li>    Register 2 callbacks: setOnCalibrationChange and setOnCalibrationFinished </li>
<li>    Following a successful gesture calibration process, the setOnCalibrationChange callback is received </li>
<li>    In order to process to the calibration of the next gesture, call mudraDevice.calibrateGesture(nextGestureType) (Note - each different gesture must be calibrated separately)
</ol></p>

<p>You may track your progress using mudraDevice.getCalibrationProgress(). Note that this function returns a progress indicator, a float between 0 and 1.</p>

<ul>
<li>Currently, the calibration only supports 3 gestures: Mid Tap, Index Tap, Thumb.</li>
<li>You may delete the last gesture instance (i.e. erase an unwanted gesture) using mudraDevice.deleteLastGestureEmbedding();</li>
</ul>

<aside class="notice"> Calibration is highly recommended for accurate gesture recognition. A calibration procedure is available in the Mudra Inspire app.</aside>
<pre class="highlight java tab-java"><code><span class="kd">private</span> <span class="kt">void</span> <span class="nf">startCalibration</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">){</span>
    <span class="n">OnCalibrationChange</span> <span class="n">onCalibrationChange</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OnCalibrationChange</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="n">GestureType</span> <span class="n">gesture</span><span class="o">,</span> <span class="kt">float</span><span class="o">[]</span> <span class="n">data</span><span class="o">,</span> <span class="n">Quality</span> <span class="n">quality</span><span class="o">,</span> <span class="kt">float</span> <span class="n">width</span><span class="o">,</span> <span class="kt">float</span> <span class="n">midpoint</span><span class="o">,</span> <span class="kt">float</span> <span class="n">energy</span><span class="o">)</span>
    <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">mudraDevice</span><span class="o">.</span><span class="na">getCalibrationProgress</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="n">GestureType</span> <span class="n">nextGesture</span> <span class="o">=</span> <span class="n">gesture</span><span class="o">.</span><span class="na">ordinal</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="n">GestureType</span><span class="o">.</span><span class="na">Thumb</span><span class="o">.</span><span class="na">ordinal</span><span class="o">()</span> <span class="o">?</span> <span class="n">GestureType</span><span class="o">.</span><span class="na">None</span> <span class="o">:</span> <span class="n">GestureType</span><span class="o">.</span><span class="na">values</span><span class="o">()[</span><span class="n">gesture</span><span class="o">.</span><span class="na">ordinal</span><span class="o">()</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>
            <span class="n">mudraDevice</span><span class="o">.</span><span class="na">calibrateGesture</span><span class="o">(</span><span class="n">nextGesture</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">};</span>
    <span class="n">mudraDevice</span><span class="o">.</span><span class="na">calibrateGesture</span><span class="o">(</span><span class="n">GestureType</span><span class="o">.</span><span class="na">Mid_Tap</span><span class="o">);</span>
    <span class="n">mudraDevice</span><span class="o">.</span><span class="na">setOnCalibrationChange</span><span class="o">(</span><span class="n">onCalibrationChange</span><span class="o">);</span>
    <span class="n">mudraDevice</span><span class="o">.</span><span class="na">setOnCalibrationFinished</span><span class="o">(</span><span class="n">requireContext</span><span class="o">(),</span> <span class="k">this</span><span class="o">::</span><span class="n">onCalibrationFinished</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre><h2 id='calibration-finished'>Calibration finished</h2>
<p>Functionality for exposing the calibration JSON when the calibration process has completed.</p>
<pre class="highlight java tab-java"><code><span class="n">OnCalibrationFinished</span> <span class="n">onCalibrationFinished</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OnCalibrationFinished</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="n">String</span> <span class="n">calibrationJson</span><span class="o">)</span> <span class="o">{</span>

    <span class="o">}</span>
<span class="o">}</span>
<span class="n">mudraDevice</span><span class="o">.</span><span class="na">setOnCalibrationFinished</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">onCalibrationFinished</span><span class="o">);</span> <span class="c1">// Enable</span>
<span class="n">mudraDevice</span><span class="o">.</span><span class="na">setOnCalibrationFinished</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span> <span class="c1">// disable</span>
<span class="o">});</span>
</code></pre><h2 id='gesture-recognition'>Gesture Recognition</h2>
<p>Functionality for predicting six gesture types: thumb, index, tap, twist. Please check out the Mudra app for more info and example usage.</p>
<pre class="highlight java tab-java"><code><span class="n">OnGestureReady</span> <span class="n">onGestureReady</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OnGestureReady</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="n">GestureType</span> <span class="n">gestureType</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">gestureType</span><span class="o">)</span> <span class="o">{</span>
            <span class="o">...</span>        
        <span class="o">}</span>   
    <span class="o">}</span>
<span class="o">};</span>
<span class="n">mudraDevice</span><span class="o">.</span><span class="na">setOnGestureReady</span><span class="o">(</span><span class="n">onGestureReady</span><span class="o">);</span> <span class="c1">// Enable</span>
<span class="n">mudraDevice</span><span class="o">.</span><span class="na">setOnGestureReady</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span> <span class="c1">// Disable</span>
</code></pre><pre class="highlight cpp tab-cpp"><code><span class="kt">void</span> <span class="nf">OnGestureReady</span><span class="p">(</span><span class="n">GestureType</span> <span class="n">gestureType</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">Gesturefound = "</span> <span class="o">&lt;&lt;</span> <span class="n">MudraEnvironment</span><span class="o">::</span><span class="n">ToString</span><span class="p">(</span><span class="n">gestureType</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">OnDeviceDiscovered</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">MudraDevice</span><span class="o">&gt;</span> <span class="n">device</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">device</span><span class="o">-&gt;</span><span class="n">SetOnGestureReady</span><span class="p">(</span><span class="n">OnGestureReady</span><span class="p">);</span>
<span class="p">}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="k">static</span> <span class="k">void</span> <span class="nf">OnGestureReady</span><span class="p">(</span><span class="n">GestureType</span> <span class="n">gesture</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="s">"\OnGestureReady = {0}"</span><span class="p">,</span> <span class="n">gesture</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">void</span> <span class="nf">OnDeviceDiscovered</span><span class="p">(</span><span class="n">MudraDevice</span> <span class="n">device</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">device</span><span class="p">.</span><span class="nf">SetOnGestureReady</span><span class="p">(</span><span class="n">OnGestureReady</span><span class="p">);</span>
<span class="p">}</span>
</code></pre><pre class="highlight fsharp tab-fsharp"><code><span class="k">private</span> <span class="k">void</span> <span class="nc">UpdateGesture</span><span class="bp">()</span>
<span class="p">{</span>
    <span class="nc">GestureType</span><span class="p">?</span> <span class="n">gesture</span> <span class="p">=</span> <span class="nn">Plugin</span><span class="p">.</span><span class="nn">Instance</span><span class="p">.</span><span class="nc">GetLastGesture</span><span class="bp">()</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">gesture</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">print</span><span class="o">($</span><span class="s2">"Gesture {gesture.ToString()}"</span><span class="o">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">void</span> <span class="nc">Update</span><span class="bp">()</span>
<span class="p">{</span>
    <span class="nc">UpdateGesture</span><span class="bp">()</span><span class="p">;</span>
    <span class="c1">//...
</span><span class="p">}</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="n">device</span><span class="o">.</span><span class="n">setOnGestureReady</span> <span class="p">{</span> <span class="p">(</span><span class="n">gesture</span><span class="p">)</span> <span class="k">in</span> <span class="nf">print</span><span class="p">(</span><span class="s">"OnGestureReady </span><span class="se">\(</span><span class="k">self</span><span class="o">.</span><span class="nf">gesture2String</span><span class="p">(</span><span class="nv">gesture</span><span class="p">:</span> <span class="n">gesture</span><span class="p">)</span><span class="se">)</span><span class="s">"</span><span class="p">)</span> <span class="p">}</span>
</code></pre><h2 id='air-mouse'>Air Mouse</h2>
<p>Functionality for exposing an air mouse based on IMU quaternions. The Mudra air mouse projects raw quaternion values onto a 2d plane, which can be used to move a cursor.  </p>
<pre class="highlight java tab-java"><code><span class="kt">int</span> <span class="n">mScreenWidth</span><span class="o">,</span> <span class="n">mScreenHeight</span><span class="o">;</span> <span class="c1">// Size of screen in pixels</span>

<span class="n">OnAirMousePositionChanged</span> <span class="n">onAirMousePositionChanged</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OnAirMousePositionChanged</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="kt">float</span><span class="o">[]</span> <span class="n">floats</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">float</span> <span class="n">airMousePosX</span> <span class="o">+=</span> <span class="n">floats</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">*</span> <span class="n">mScreenWidth</span> <span class="o">*</span> <span class="n">HSPEED</span><span class="o">;</span>
        <span class="kt">float</span> <span class="n">airMousePosY</span> <span class="o">+=</span> <span class="n">floats</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">*</span> <span class="n">mScreenHeight</span> <span class="o">*</span> <span class="n">VSPEED</span><span class="o">;</span>
        <span class="kt">float</span> <span class="n">airMousePosX</span> <span class="o">=</span> <span class="n">Clamp</span><span class="o">(</span><span class="n">mAirMousePosX</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">mScreenWidth</span><span class="o">);</span>
        <span class="kt">float</span> <span class="n">airMousePosY</span> <span class="o">=</span> <span class="n">Clamp</span><span class="o">(</span><span class="n">mAirMousePosY</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">mScreenHeight</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">};</span>
<span class="n">mudraDevice</span><span class="o">.</span><span class="na">setOnAirMousePositionChanged</span><span class="o">(</span><span class="n">onAirMousePositionChanged</span><span class="o">);</span> <span class="c1">// Enable</span>
<span class="n">mudraDevice</span><span class="o">.</span><span class="na">setOnAirMousePositionChanged</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span> <span class="c1">// Disable</span>
</code></pre><pre class="highlight cpp tab-cpp"><code><span class="kt">void</span> <span class="nf">OnAirMousePositionChanged</span><span class="p">(</span><span class="k">const</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;&amp;</span> <span class="n">position</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">X="</span> <span class="o">&lt;&lt;</span> <span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">" ,Y="</span> <span class="o">&lt;&lt;</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">OnDeviceDiscovered</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">MudraDevice</span><span class="o">&gt;</span> <span class="n">device</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">device</span><span class="o">-&gt;</span><span class="n">SetOnAirMousePositionChanged</span><span class="p">(</span><span class="n">OnAirMousePositionChanged</span><span class="p">);</span>
<span class="p">}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="k">static</span> <span class="k">void</span> <span class="nf">OnAirMousePositionChanged</span><span class="p">(</span><span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="s">"\OnAirMousePositionChanged = {0}, {1}"</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">void</span> <span class="nf">OnDeviceDiscovered</span><span class="p">(</span><span class="n">MudraDevice</span> <span class="n">device</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">device</span><span class="p">.</span><span class="nf">SetOnAirMousePositionChanged</span><span class="p">(</span><span class="n">OnAirMousePositionChanged</span><span class="p">);</span>
<span class="p">}</span>
</code></pre><pre class="highlight fsharp tab-fsharp"><code><span class="k">private</span> <span class="k">void</span> <span class="nc">UpdateAirMousePositionChange</span><span class="bp">()</span>
<span class="p">{</span>
    <span class="kt">float</span><span class="bp">[]</span> <span class="n">delta</span> <span class="p">=</span> <span class="nn">Plugin</span><span class="p">.</span><span class="nn">Instance</span><span class="p">.</span><span class="nc">GetLastAirMousePositionChange</span><span class="bp">()</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">delta</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">print</span><span class="o">($</span><span class="s2">"AirMouse position change {delta[0]}, {delta[1]}"</span><span class="o">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">void</span> <span class="nc">Update</span><span class="bp">()</span>
<span class="p">{</span>
    <span class="nc">UpdateAirMousePositionChange</span><span class="bp">()</span><span class="p">;</span>
    <span class="c1">//...
</span><span class="p">}</span>
</code></pre><h2 id='orientation'>Orientation</h2>
<p>Functionality for exposing IMU based quaternion values. These values represent the orientation of your hand in a quaternion representation.</p>
<pre class="highlight java tab-java"><code><span class="n">OnImuQuaternionReady</span> <span class="n">onImuQuaternionReady</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OnImuQuaternionReady</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="kt">float</span><span class="o">[]</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Do something with data (quaternion, 4 values)</span>
    <span class="o">}</span>
<span class="o">};</span>
<span class="n">mudraDevice</span><span class="o">.</span><span class="na">setOnImuQuaternionReady</span><span class="o">(</span><span class="n">onImuQuaternionReady</span><span class="o">);</span> <span class="c1">// Enable</span>
<span class="n">mudraDevice</span><span class="o">.</span><span class="na">setOnImuQuaternionReady</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span> <span class="c1">// Disable</span>
</code></pre><pre class="highlight cpp tab-cpp"><code><span class="kt">void</span> <span class="nf">OnImuQuaternionPackageReady</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;&amp;</span> <span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">Received Imu Quaternion data"</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">OnDeviceDiscovered</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">MudraDevice</span><span class="o">&gt;</span> <span class="n">device</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">device</span><span class="o">-&gt;</span><span class="n">SetImuQuaternionPackageReady</span><span class="p">(</span><span class="n">OnImuQuaternionPackageReady</span><span class="p">);</span>
<span class="p">}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="k">static</span> <span class="k">void</span> <span class="nf">OnImuQuaternionPackageReady</span><span class="p">(</span><span class="kt">float</span><span class="p">[]</span> <span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="p">&lt;</span><span class="n">data</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="p">{</span> 
        <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="s">"\OnImuQuaternionPackageReady = {0}"</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">void</span> <span class="nf">OnDeviceDiscovered</span><span class="p">(</span><span class="n">std</span><span class="p">::</span><span class="n">shared_ptr</span><span class="p">&lt;</span><span class="n">MudraDevice</span><span class="p">&gt;</span> <span class="n">device</span><span class="p">)</span>
<span class="p">{</span>   
    <span class="n">device</span><span class="p">.</span><span class="nf">SetImuQuaternionPackageReady</span><span class="p">(</span><span class="n">OnImuQuaternionPackageReady</span><span class="p">);</span>
<span class="p">}</span>
</code></pre><pre class="highlight fsharp tab-fsharp"><code><span class="k">private</span> <span class="k">void</span> <span class="nc">UpdateImuQuaternion</span><span class="bp">()</span>
<span class="p">{</span>
    <span class="kt">float</span><span class="bp">[]</span> <span class="n">data</span> <span class="p">=</span> <span class="nn">Plugin</span><span class="p">.</span><span class="nn">Instance</span><span class="p">.</span><span class="nc">GetLastImuQuaternionPackage</span><span class="bp">()</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">data</span> <span class="o">==</span> <span class="k">null</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kt">string</span> <span class="n">s1</span> <span class="p">=</span> <span class="s2">""</span><span class="p">;</span>
    <span class="n">foreach</span> <span class="p">(</span><span class="n">var</span> <span class="n">d</span> <span class="k">in</span> <span class="n">data</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">s1</span> <span class="p">=</span> <span class="n">s1</span> <span class="o">+</span> <span class="n">d</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">print</span><span class="o">($</span><span class="s2">"Imu Quaternion {s1}"</span><span class="o">);</span>
<span class="p">}</span>

<span class="k">void</span> <span class="nc">Update</span><span class="bp">()</span>
<span class="p">{</span>
    <span class="nc">UpdateImuQuaternion</span><span class="bp">()</span><span class="p">;</span>
    <span class="c1">//...
</span><span class="p">}</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="n">device</span><span class="o">.</span><span class="n">setOnImuQuaternionPackageReady</span> <span class="p">{</span> <span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span> <span class="k">in</span> <span class="nf">print</span><span class="p">(</span><span class="s">"OnImuQuaternionPackageReady"</span><span class="p">)}</span>
</code></pre><h2 id='raw-data'>Raw Data</h2>
<p>Functionality for exposing raw SNC (Surface Nerve Conductance) sensor values. This function may incur an additional fee (We will send a license with instructions for those who are interested in this functionality).  </p>
<pre class="highlight java tab-java"><code><span class="c1">// Please contact support@getmudra.com for instructions</span>
</code></pre><pre class="highlight cpp tab-cpp"><code><span class="c1">// Please contact support@getmudra.com for instructions
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">// Please contact support@getmudra.com for instructions</span>
</code></pre><pre class="highlight fsharp tab-fsharp"><code><span class="c1">// Please contact support@getmudra.com for instructions
</span></code></pre><h2 id='device-status'>Device Status</h2>
<p>Functionality for exposing if the Mudra device is connected.</p>
<pre class="highlight java tab-java"><code><span class="n">OnDeviceStatusChanged</span> <span class="n">onDeviceStatusChanged</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OnDeviceStatusChanged</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">status</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">status</span><span class="o">)</span>        
        <span class="o">{</span>            
            <span class="n">runOnUiThread</span><span class="o">(</span><span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="o">()</span> <span class="o">{</span>
                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                    <span class="n">TextView</span> <span class="n">device_name</span><span class="o">=</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">txtDevicesNumber</span><span class="o">);</span>
                    <span class="n">device_name</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">mMudra</span><span class="o">.</span><span class="na">getBluetoothDevice</span><span class="o">().</span><span class="na">getAddress</span><span class="o">());</span>
                <span class="o">}</span>
            <span class="o">}));</span>        
        <span class="o">}</span>    
    <span class="o">}</span>
<span class="o">};</span>
<span class="n">mudraDevice</span><span class="o">.</span><span class="na">setOnDeviceStatusChanged</span><span class="o">(</span><span class="n">onDeviceStatusChanged</span><span class="o">);</span> <span class="c1">// Enable</span>
<span class="n">mudraDevice</span><span class="o">.</span><span class="na">setOnDeviceStatusChanged</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span> <span class="c1">// Disable</span>
</code></pre><h2 id='battery-level'>Battery Level</h2>
<p>Functionality for exposing battery status.</p>
<pre class="highlight java tab-java"><code><span class="n">OnBatteryLevelChanged</span> <span class="n">onBatteryLevelChanged</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OnBatteryLevelChanged</span><span class="o">()</span> <span class="o">{</span>    
    <span class="nd">@Override</span>    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">runOnUiThread</span><span class="o">(</span><span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="o">()</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">TextView</span> <span class="n">txtBattery</span><span class="o">=</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">txtBatLevel</span><span class="o">);</span>
                <span class="n">txtBattery</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">mMudra</span><span class="o">.</span><span class="na">getBatteryLevel</span><span class="o">()</span> <span class="o">+</span> <span class="s">"%"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}));</span>
    <span class="o">}</span>
<span class="o">};</span>
<span class="n">mudraDevice</span><span class="o">.</span><span class="na">setOnBatteryLevelChanged</span><span class="o">(</span><span class="n">onBatteryLevelChanged</span><span class="o">);</span> <span class="c1">// Enable</span>
<span class="n">mudraDevice</span><span class="o">.</span><span class="na">setOnBatteryLevelChanged</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span> <span class="c1">// Disable</span>
</code></pre><h1 id='troubleshooting'>Troubleshooting</h1>
<table><thead>
<tr>
<th>Problem</th>
<th>OS</th>
<th>Solution</th>
</tr>
</thead><tbody>
<tr>
<td>Mudra does not connect to host device</td>
<td>Android</td>
<td>Check your Bluetooth version, we recommend 4.2 and above</td>
</tr>
<tr>
<td>No implementation found</td>
<td>Android</td>
<td>Please first use Mudra.getInstance() for initializing the mudra environment</td>
</tr>
<tr>
<td>Mudra does not connect to host device</td>
<td>All</td>
<td>Check if your device&#39;s LED flashes red, if so recharge (LED will flash blue)</td>
</tr>
<tr>
<td>Mudra gestures are not correctly recognize</td>
<td>All</td>
<td>Please try again our on-boarding app. Try to follow the instruction and perform another calibration</td>
</tr>
<tr>
<td>Mudra pressure values fluctuate</td>
<td>All</td>
<td>Please make sure your device is in contact with your skin (no need to be tight)</td>
</tr>
<tr>
<td>Multiple scan attemts with no connections established</td>
<td>Windows</td>
<td>Please remove and re-insert dongle into usb port</td>
</tr>
<tr>
<td>No dongle found</td>
<td>Windows</td>
<td>Make sure you are using the correct dongle and it is properly inserted in the USB port</td>
</tr>
<tr>
<td>Missing dll error</td>
<td>Windows\Unity</td>
<td>Make sure installation created an environment variable path and unpacked the dlls inside. If not, try running Setup.msi as administrator</td>
</tr>
<tr>
<td>Could not find com.github.wearable-devices:MudraAndroidSDK</td>
<td>Windows\Unity</td>
<td>Downgrade Unity to version 2019.2.X</td>
</tr>
</tbody></table>

<p>Please contact <a href="mailto:support@getmudra.com">support@getmudra.com</a> for any additional questions or suggestions. </p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="java">Java</a>
                <a href="#" data-language-name="cpp">C++</a>
                <a href="#" data-language-name="csharp">C#</a>
                <a href="#" data-language-name="fsharp">Unity</a>
                <a href="#" data-language-name="swift">Swift</a>
          </div>
      </div>
    </div>
  </body>
</html>
